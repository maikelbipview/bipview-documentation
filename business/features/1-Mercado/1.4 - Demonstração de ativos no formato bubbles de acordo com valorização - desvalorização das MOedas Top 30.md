# 1.4 Demonstração de ativos no formato bubbles de acordo com valorização / desvalorização das MOedas Top 30

**Módulo:** 1. Mercado  
**Tipo:** Grafico Bubble  
**Plano:** **Pro**  
**Complexidade:** Média

## Resumo
—

## Observações
Requer analise de fontes confiáveis

## Flags
- **CoinStat:** Sim
- **Delta:** Sim

## Requisitos/Tarefas
- [ ] Definição de métricas e fontes
- [ ] Modelagem de dados e normalização
- [ ] Integração/Oráculos necessários
- [ ] UX: layouts e filtros
- [ ] Testes e validações
- [ ] Documentação

## Critérios de Aceite (exemplos)
- [ ] Resultados consistentes com fontes de referência
- [ ] Performance adequada com N contas/subcontas
- [ ] Logs e auditoria mínimos
- [ ] Tratamento de erros e timeouts

# 1. Mercado — Demonstração de ativos no formato bubbles de acordo com valorização / desvalorização das MOedas Top 30

> **Objetivo:** Visualizar rapidamente os ativos com maior movimento relativo por bolhas proporcionais.  
> **Problema:** Listas lineares não evidenciam magnitude relativa de variação e volume.  
> **Solução:** Mapa de bolhas (5/30) com tamanho por market cap/volume e cor por variação.  
> **Proposta de Valor:** Leitura instantânea de ‘movers’ e comparação visual eficiente.  
> **KPIs chave:** latência de preço, cobertura de tickers, acurácia de variação

## Endpoint
- **GET/POST:** `/api/v1/mercado/demonstracao-de-ativos-no-formato-bubbles-de-acordo-com-valorizacao-desvalorizacao-das-moedas-top-30`  
- **URL completa:** <https://api.pipview.local/api/v1/mercado/demonstracao-de-ativos-no-formato-bubbles-de-acordo-com-valorizacao-desvalorizacao-das-moedas-top-30>  
- **Auth:** Bearer JWT | **Tenant:** `X-Tenant-Id`

### Request (exemplo)
```json
{
  "filters": {
    "wallet_ids": ["w1", "w2"],
    "date_range": {"start": "2025-01-01", "end": "2025-10-26"},
    "assets": ["BTC","ETH","USDT"]
  },
  "probe": true
}
```

### Response (exemplo)
```json
{
  "status": "ok",
  "feature": "demonstracao-de-ativos-no-formato-bubbles-de-acordo-com-valorizacao-desvalorizacao-das-moedas-top-30",
  "items": [],
  "metrics": {"latency_ms": 120}
}
```

## Fontes de Dados
- Exchanges (API) e carteiras on-chain monitoradas
- Cotações históricas consolidadas
- Dicionários de símbolos, redes e categorias

## Gráficos Sugeridos
- Selecionar entre pizza, barras, linha, área ou bolhas conforme o caso
- Filtros por data, carteira, ativo, rede, categoria

## Premissas
- Normalização de símbolos/contratos e timezone do usuário
- Preço de fechamento diário e intraday quando necessário

## Regras de Negócio
- Agregação consistente por `timestamp`
- Arredondamento configurável e ocultação de *dust*
- Rastreamento de origem (auditoria)

## Presentation
1. Mercado — Demonstração de ativos no formato bubbles de acordo com valorização / desvalorização das MOedas Top 30

```mermaid
pie
"Categoria A" : 40
"Categoria B" : 35
"Categoria C" : 25
```
